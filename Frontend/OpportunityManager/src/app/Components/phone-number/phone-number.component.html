<form [formGroup]="phoneForm" (change)="updateMask()" class="container">


  <!-- Country Selection -->
  <div class="p-0 m-0">
    <label class="form-label">Select Country:</label>
    <select class="form-select" formControlName="country" (change)="updateMask()">
      <option value="" selected disabled>Choose a country</option>
      <option value="IN">India (+91)</option>
      <option value="US">USA (+1)</option>
      <option value="UK">UK (+44)</option>
      <option value="UAE">UAE (+971)</option>
    </select>
  </div>

  <!-- Phone Number Input -->
  <div class="p-0 m-0">
    <label class="form-label">Phone Number:</label>
    <div class="input-group">
      <span class="input-group-text bg-secondary text-white">{{ countryCode }}</span>
      <input type="text" class="form-control" formControlName="phoneNumber" [mask]="phoneMask" placeholder="Enter phone number" />
    </div>

    <!-- Validation Messages -->
    <div *ngIf="phoneForm.get('phoneNumber')?.invalid && phoneForm.get('phoneNumber')?.touched" class="text-danger">
      <small *ngIf="phoneForm.get('phoneNumber')?.hasError('required')">Phone number is required.</small>
      <small *ngIf="phoneForm.get('phoneNumber')?.hasError('pattern')">Invalid phone number format.</small>
    </div>
  </div>
</form>
